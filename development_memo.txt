きっちりわけておこうかなぁ。

ページが存在しない
　新しいページを作成。空文字との差分を作成して、ページ履歴に追加
　ページを追加する

ページが存在する
　ページの差分がない場合は、そのままリターン
　今回のコンテンツと前回のコンテンツの差分を比較して、ページ履歴に追加
　ページを更新する

